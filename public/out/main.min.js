!function(){"use strict";var e={formEl:document.querySelector(".nav-form__post"),inputEl:document.querySelector(".nav-form__input"),loginBtn:document.querySelector(".nav-auth__link"),listEl:document.querySelector(".main__list")};const t=btoa("74e32fcef00f4917950e482de83f327d:7d7aece049984959b34744653fcb3d1b");console.clear(),e.formEl.addEventListener("submit",(a=>{a.preventDefault();const n=e.inputEl.value.trim();console.log(n),""===n?(e.inputEl.placeholder="[error]",console.error("[error]")):(async function(a){const n=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{Authorization:`Basic ${t}`,"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=client_credentials"}),o=(await n.json()).access_token;try{const t=await fetch(`https://api.spotify.com/v1/search?type=track&q=${a}&limit=15`,{headers:{Authorization:`Bearer ${o}`}}),n=await t.json();console.log(n);let r=e.listEl;r.innerHTML="",n.tracks.items.forEach((e=>{const t=document.createElement("li"),a=document.createElement("span"),n=document.createElement("img"),o=document.createElement("a");a.classList.add("main__span"),t.classList.add("main__item"),n.classList.add("main__img"),o.classList.add("main__link"),n.src=e.album.images[1].url,n.alt=e.album.name,o.href=e.external_urls.spotify,o.target="_blank",o.rel="noopener noreferrer nofollow",o.textContent=`${e.name} - ${e.artists[0].name}`,a.textContent="click";const l={imageSrc:e.album.images[1].url,imageAlt:e.album.name,url:e.external_urls.spotify};let c=localStorage.getItem("searchRes");c=c?JSON.parse(c):[],c.push(l),localStorage.setItem("searchRes",JSON.stringify(c)),r.appendChild(t),o.appendChild(a),t.appendChild(n),t.appendChild(o)}))}catch(e){console.error(e)}}(n),e.inputEl.placeholder="Type to search..."),e.formEl.reset()})),e.loginBtn.addEventListener("click",(()=>{window.open("/auth/twitch")}))}();